# =============================================================================
# Lakehouse Orchestrator - Environment Configuration
# =============================================================================
# Copy this file to .env and update values for your environment.
# NEVER commit the .env file to version control.
#
# Defaults below are suitable for local development. For production, replace
# all passwords and secret keys with strong, unique values.
# =============================================================================

# -----------------------------------------------------------------------------
# PostgreSQL (Airflow metadata + Celery result backend + Superset metadata)
# -----------------------------------------------------------------------------
POSTGRES_USER=airflow
POSTGRES_PASSWORD=airflow
POSTGRES_DB=airflow
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# Airflow
# -----------------------------------------------------------------------------
AIRFLOW__CORE__EXECUTOR=CeleryExecutor
AIRFLOW__CORE__FERNET_KEY=your-fernet-key-here-generate-with-python
AIRFLOW__CORE__LOAD_EXAMPLES=false
AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION=true

AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

AIRFLOW__CELERY__BROKER_URL=redis://valkey:6379/0
AIRFLOW__CELERY__RESULT_BACKEND=db+postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

AIRFLOW__WEBSERVER__SECRET_KEY=your-webserver-secret-key-change-me
AIRFLOW__WEBSERVER__EXPOSE_CONFIG=false
AIRFLOW__WEBSERVER__RBAC=true

AIRFLOW_ADMIN_USERNAME=admin
AIRFLOW_ADMIN_PASSWORD=admin
AIRFLOW_ADMIN_FIRSTNAME=Admin
AIRFLOW_ADMIN_LASTNAME=User
AIRFLOW_ADMIN_EMAIL=admin@lakehouse.local

# -----------------------------------------------------------------------------
# Valkey (Celery Broker - Redis-compatible)
# -----------------------------------------------------------------------------
VALKEY_PORT=6379

# -----------------------------------------------------------------------------
# SeaweedFS (S3-compatible Object Storage)
# -----------------------------------------------------------------------------
SEAWEEDFS_MASTER_PORT=9333
SEAWEEDFS_VOLUME_PORT=8082
SEAWEEDFS_S3_PORT=8333
SEAWEEDFS_S3_ACCESS_KEY=lakehouse_access_key
SEAWEEDFS_S3_SECRET_KEY=lakehouse_secret_key

# S3 Configuration for Airflow DAGs
S3_ENDPOINT_URL=http://seaweedfs-s3:8333
S3_BUCKET_NAME=lakehouse
S3_ACCESS_KEY=${SEAWEEDFS_S3_ACCESS_KEY}
S3_SECRET_KEY=${SEAWEEDFS_S3_SECRET_KEY}
S3_REGION=us-east-1

# -----------------------------------------------------------------------------
# Trino
# -----------------------------------------------------------------------------
TRINO_PORT=8083
TRINO_CATALOG=iceberg
TRINO_SCHEMA=lakehouse

# -----------------------------------------------------------------------------
# Superset
# -----------------------------------------------------------------------------
SUPERSET_PORT=8088
SUPERSET_SECRET_KEY=your-superset-secret-key-change-me
SUPERSET_ADMIN_USERNAME=admin
SUPERSET_ADMIN_PASSWORD=admin
SUPERSET_ADMIN_FIRSTNAME=Admin
SUPERSET_ADMIN_LASTNAME=User
SUPERSET_ADMIN_EMAIL=admin@lakehouse.local

# Superset PostgreSQL (separate database, created by postgres/init-superset-db.sh)
SUPERSET_DB_USER=superset
SUPERSET_DB_PASSWORD=superset
SUPERSET_DB_NAME=superset
